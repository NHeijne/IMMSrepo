function [x,y] = getNewPos(x,y,width,height,wholeIm,targetHistogram)

    [pixelWeights,rows,cols] = getPixelWeights(x,y,width,height,wholeIm,targetHistogram);
    
    RC = [rows',cols'];
    
    RC2 = [RC(:,1).*pixelWeights, RC(:,2).*pixelWeights];
    sumRC2 = sum(RC2);
    sumWeights = sum(pixelWeights);
    
    newPos = sumRC2 ./ sumWeights;
    y = newPos(1);
    x = newPos(2);
end